!function(){"use strict";class t{constructor(t,e){this._modalContainer=document.querySelector("#"+t),this._modalContainer.setAttribute("class","mewebdev-modal-container"),this._modal,this._modal_id=e,this._spinner,this._dialog,this._header,this._header_title,this._header_button_close,this._body,this._body_text,this._footer,this._button_primary,this._button_secondary,this.generate(),this._option_show_modal=!1,this._option_show_spinner=!1,this._option_show_dialog=!1,this._option_show_header=!1,this._option_show_body=!1,this._option_show_footer=!1,this._option_show_button_primary=!1,this._option_show_button_secondary=!1,this._option_dialog_position_top=!1,this._option_dialog_role_success=!1,this._option_dialog_role_error=!1,this.showModal=!1,this.showSpinner=!1,this.showDialog=!1,this.showHeader=!1,this.showBody=!1,this.showFooter=!1,this.showButtonPrimary=!1,this.showButtonSecondary=!1,this.dialogPositionTop=!1,this.dialogRoleSuccess=!1,this.dialogRoleError=!1}hide(){this.showModal=!1,this.showDialog=!1,this.showSpinner=!1}show(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";this.showModal=!0,this.showSpinner=!0,""!==t?(this.title=t,this.showHeader=!0):""!==this.title?this.showHeader=!0:this.showHeader=!1,""!==e?(this.bodyText=e,this.showBody=!0):""!==this.bodyText?this.showBody=!0:this.showBody=!1,""!==i&&(this.buttonPrimary.innerHTML=i,this.showButtonPrimary=!0,this.showFooter=!0),""!==o&&(this.buttonSecondary.innerHTML=o,this.showButtonSecondary=!0,this.showFooter=!0),""===t&&""===e&&""===i&&""===o||(this.showDialog=!0)}get showModal(){return this._option_show_modal}set showModal(t){this._option_show_modal=t,t?(this._modalContainer.classList.remove("d-none"),this._modal.classList.remove("d-none"),this._modalContainer.addEventListener("wheel",(function(t){return t.preventDefault(),t.stopPropagation(),!1})),this._modalContainer.addEventListener("touchmove",(function(t){return t.preventDefault(),t.stopPropagation(),!1}))):(this._modalContainer.classList.add("d-none"),this._modal.classList.add("d-none"))}get showSpinner(){return this._option_show_spinner}set showSpinner(t){this._option_show_spinner=t,t?(this.showDialog=!1,this._spinner.classList.remove("d-none")):this._spinner.classList.add("d-none")}get showDialog(){return this._option_show_dialog}set showDialog(t){this._option_show_dialog=t,t?(this._dialog.classList.remove("d-none"),this.showSpinner=!1):this._dialog.classList.add("d-none")}get showHeader(){return this._option_show_header}set showHeader(t){this._option_show_header=t,t?this._header.classList.remove("d-none"):this._header.classList.add("d-none")}get showBody(){return this._option_show_body}set showBody(t){this._option_show_body=t,t?this._body.classList.remove("d-none"):this._body.classList.add("d-none")}get showButtonPrimary(){return this._option_show_button_primary}set showButtonPrimary(t){this._option_show_button_primary=t,t?this._button_primary.classList.remove("d-none"):this._button_primary.classList.add("d-none")}get showButtonSecondary(){return this._option_show_button_secondary}set showButtonSecondary(t){this._option_show_button_secondary=t,t?this._button_secondary.classList.remove("d-none"):this._button_secondary.classList.add("d-none")}get showFooter(){return this._option_show_footer}set showFooter(t){this._option_show_footer=t,t?this._footer.classList.remove("d-none"):this._footer.classList.add("d-none")}get dialogPositionTop(){return this._option_dialog_position_top}set dialogPositionTop(t){this._option_dialog_position_top=t,t?(this._dialog.style.alignSelf="flex-start",this._dialog.style.marginTop="5rem"):(this._dialog.style.removeProperty("align-self"),this._dialog.style.removeProperty("margin-top"))}get dialogRoleSuccess(){return this._option_dialog_role_success}set dialogRoleSuccess(t){this._option_dialog_role_success=t,t?(this.title.style.color="green",this.bodyText.style.color="green"):(this.title.style.color="unset",this.bodyText.style.color="unset")}get dialogRoleError(){return this._option_dialog_role_error}set dialogRoleError(t){this._option_dialog_role_error=t,t?(this.title.style.color="red",this.bodyText.style.color="red"):(this.title.style.color="unset",this.bodyText.style.color="unset")}get header(){return this._header}get title(){return this._header_title}set title(t){this._header_title.innerHTML=t}get body(){return this._body}set body(t){this._body.innerHTML=t}get bodyText(){return this._body_text}set bodyText(t){this._body_text.innerHTML=t}get footer(){return this._footer}set footer(t){this._footer.innerHTML=t}get buttonPrimary(){return this._button_primary}get buttonSecondary(){return this._button_secondary}generate(){this._modal=document.createElement("div"),this._modal.setAttribute("class","mewebdev-modal"),this._modal.setAttribute("id",this._modal_id),this._modalContainer.append(this._modal),this._spinner=document.createElement("div"),this._spinner.setAttribute("class","mewebdev-spinner"),this._modalContainer.append(this._spinner),this._dialog=document.createElement("div"),this._dialog.setAttribute("class","mewebdev-dialog"),this._header=document.createElement("div"),this._header.setAttribute("class","mewebdev-dialog__header"),this._header_title=document.createElement("h3"),this._header_title.setAttribute("class","mewebdev-dialog__title"),this._header.append(this._header_title),this._dialog.append(this._header),this._body=document.createElement("div"),this._body.setAttribute("class","mewebdev-dialog__body"),this._body_text=document.createElement("p"),this._body.append(this._body_text),this._dialog.append(this._body),this._footer=document.createElement("div"),this._footer.setAttribute("class","mewebdev-dialog__footer"),this._button_primary=document.createElement("button"),this._button_primary.setAttribute("style","margin-right: 0.5rem;"),this._button_primary.setAttribute("class","button-primary"),this._button_primary.innerHTML="Continue",this._footer.append(this._button_primary),this._button_secondary=document.createElement("button"),this._button_secondary.setAttribute("class","button-secondary"),this._button_secondary.innerHTML="Close",this._footer.append(this._button_secondary),this._dialog.append(this._footer),this._modalContainer.append(this._dialog)}}class e{constructor(){this._sections=new Array}get sections(){return this._sections}add(t){this._sections.push(t)}remove(t){this._sections.splice(this._sections.indexOf(t),1)}sectionExists(t){return-1!==this._sections.indexOf(t)}reset(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;for(let e of this._sections)e.step>t&&(e.control.clear(),e.hide())}getJSON(){let t=new Array;for(let e of this._sections){let i=new Object;if(i.title=e.control.title,i.name=e.control.name,e.control.isMultiple){if(!(e.control.values.length>0))continue;i.value=e.control.values}else{if(null===e.control.value||""===e.control.value)continue;i.value=e.control.value}t.push(i)}return JSON.stringify(t)}}class i{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;this.theTitle=t,this.theControl=e,this.section_id=i,this.theSection=document.querySelector("#"+i),this.theStep=o}get title(){return this.theTitle}set title(t){this.theTitle=t}get section(){return this.theSection}set section(t){this.theSection=t}get step(){return this.theStep}set step(t){this.theStep=t}get control(){return this.theControl}addEventListener(t,e){this.theControl.addEventListener(t,e)}show(){this.theSection.classList.remove("d-none")}hide(){this.theSection.classList.add("d-none")}jump_to_section(){location.href="#"+this.section_id}}class o{constructor(t){this.form_element_error=document.querySelector("#"+t),this._error,this.is_valid}isValid(){return this.validate(),this.is_valid}get error(){return this._error}set error(t){this._error=t}show_error(){this.form_element_error.innerHTML=this._error,this.form_element_error.style.display="block"}hide_error(){this._error="",this.form_element_error.innerHTML="",this.form_element_error.style.display="none"}validate(){try{this.hide_error(),this.check_data(),this.is_valid=!0}catch(t){this._error=t.message,this.show_error(),this.is_valid=!1}}}class s extends o{constructor(t,e){super(e),this.form_element=t,this.required=!1,this.required_error="Please fill this out",this.block_numbers=!1,this.block_numbers_error="Numbers are not allowed in this field",this.check_minimum_length=!1,this.check_minimum_length_value=1,this.check_minimum_length_error="Length must be at least",this.check_maximum_length=!1,this.check_maximum_length_value=10,this.check_maximum_length_error="Text must be no longer than",this.check_regex=!1,this.check_regex_pattern="",this.check_regex_error="Please use the right format",this.match_value_list=!1,this.match_value_list_array=null,this.match_value_list_error="The entered value is not one of the valid options"}param_match_value_list(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.match_value_list=t,this.match_value_list_array=e,""!==i&&(this.text_is_valid=!1,this.match_value_list_error=i)}param_required(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.required=t,""!==e&&(this.text_is_valid=!1,this.required_error=e)}param_block_numbers(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.block_numbers=t,""!==e&&(this.text_is_valid=!1,this.block_numbers_error=e)}param_check_minimum_length(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.check_minimum_length=t,this.check_minimum_length_value=e,this.check_minimum_length_error+=" "+this.check_minimum_length_value+" characters",""!==i&&(this.check_minimum_length_error=i)}param_check_maximum_length(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.check_maximum_length=t,this.check_maximum_length_value=e,this.check_maximum_length_error+=" "+this.check_maximum_length_value,""!==i&&(this.check_maximum_length_error=i)}param_check_regex(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.check_regex=t,this.check_regex_pattern=e,""!==i&&(this.check_regex_error=i)}check_data(){this.required&&this.require_value(),this.block_numbers&&this.reject_numbers(),this.check_minimum_length&&this.require_minimum_length(),this.check_maximum_length&&this.enforce_maximum_length(),this.check_regex&&this.require_regex_match(),this.match_value_list&&this.check_valid_options()}reject_numbers(){if(this.is_numeric())throw new Error(this.block_numbers_error)}require_minimum_length(){if(this.form_element.value.length<this.check_minimum_length_value)throw new Error(this.check_minimum_length_error)}enforce_maximum_length(){if(this.form_element.value.length>this.check_maximum_length_value)throw new Error(this.check_maximum_length_error)}require_value(){if(""==this.form_element.value||0==this.form_element.value.length)throw new Error(this.required_error)}is_numeric(){return-1!=this.form_element.value.search(/\d/)}pattern_matches(t,e){const i=t;return-1!=e.search(i)}require_regex_match(){if(!this.pattern_matches(this.check_regex_pattern,this.form_element.value))throw new Error(this.check_regex_error)}check_valid_options(){if(-1==this.match_value_list_array.indexOf(parseInt(this.form_element.value)))throw new Error(this.match_value_list_error)}}class r{constructor(t,e,i){this._title=t,this._name=e.name,this._control=e,this.theValidator=null,this._is_multiple=i}get name(){return this._name}get isMultiple(){return this._is_multiple}get title(){return this._title}get control(){return this._control}get validator(){return this.theValidator}validate(){this.theValidator.validate()}isValid(){return this.theValidator.isValid()}addEventListener(t,e){this._control.addEventListener(t,e)}clear(){this._control.clear(),this.theValidator.hide_error()}}class n extends r{constructor(t,e,i){super(t,e,!1),this.theValidator=new s(this._control,i)}clear(){this._control.value="",this.theValidator.hide_error()}get value(){return this._control.value}get validator(){return this.theValidator}showSpinner(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.theValidator;this._control.addEventListener("input",(function(){this.addEventListener("keydown",(function(e){"Tab"!==e.key&&t.classList.remove("d-none")})),this.addEventListener("keyup",(function(e){"Tab"!==e.key&&t.classList.add("d-none")})),e&&i.validate()}))}}document.addEventListener("DOMContentLoaded",(function(){let o=document.querySelector("#mewebdev_txt_name");if(null!==o){let s=document.querySelector("#mewebdev_txt_name_spinner"),r=new n("Name",o,"lbl_mewebdev_txt_name_Error");r.validator.param_required(!0),r.validator.param_block_numbers(!0),r.validator.param_check_maximum_length(!0,40),r.showSpinner(s,!0);let h=new i("Name",r,"section_mewebdev_txt_name",1),_=new e;_.add(h);let a=document.querySelector("#mewebdev_txt_email"),l=document.querySelector("#mewebdev_txt_email_spinner"),d=new n("Email",a,"lbl_mewebdev_txt_email_Error");d.validator.param_required(!0),d.validator.param_check_regex(!0,/\S+@\S+\.\S+/),d.validator.param_check_maximum_length(!0,100),d.showSpinner(l,!0);let c=new i("Email",d,"section_mewebdev_txt_email",2);_.add(c);let m=document.querySelector("#mewebdev_txt_message"),u=document.querySelector("#mewebdev_txt_message_spinner"),g=new n("Message",m,"lbl_mewebdev_txt_message_Error");g.validator.param_required(!0),g.validator.param_check_maximum_length(!0,1500),g.showSpinner(u,!0);let p=new i("Message",g,"section_mewebdev_txt_message",3);_.add(p),document.querySelector("#mewebdevButtonSend").addEventListener("click",(function(){let t=!0;for(let e of _.sections)if(!e.control.isValid()){e.jump_to_section(),t=!1;break}t&&y(_.getJSON())}));let v=document.querySelector("#lbl_mewebdev_critical_Error"),b="/",w=new t("mewebdev_modal_container","headerModal");function y(t){let e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");e.onreadystatechange=function(){if(w.show(),4==this.readyState&&200==this.status){let i=e.responseText,o=JSON.parse(i);null==o.error?(v.style.display="none",v.innerHTML="",b=o.continue_url,w.show("Success!",o.thank_you_message,"Continue")):(w.hide(),t=o.error,v.style.display="block",v.innerHTML=t)}var t},e.open("POST",c_form_obj.ajaxurl,!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),0!=c_form_obj.reCaptchaSiteKey?grecaptcha.ready((function(){grecaptcha.execute(c_form_obj.reCaptchaSiteKey,{action:"submit"}).then((function(i){e.send("action=sendEmail&nonce="+c_form_obj.nonce+"&formD="+t+"&reCaptchaResponse="+i)}))})):e.send("action=sendEmail&nonce="+c_form_obj.nonce+"&formD="+t)}w.buttonPrimary.addEventListener("click",(function(){document.location=b}))}}))}();